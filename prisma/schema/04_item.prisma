/// ไม่
///ตารางเก็บข้อมูลสินค้า 
model item {
    item_id               Int            @id @default(autoincrement())
    item_code             String         @db.VarChar(50)
    item_name             String         @db.VarChar(255)
    item_type             String         @db.VarChar(20)
    uom                   String         @db.VarChar(20)
    itemType              item_type?     @relation(fields: [item_typeItem_type_id], references: [item_type_id])
    item_typeItem_type_id Int?
    itemCategory          item_category? @relation(fields: [category_id], references: [item_category_id])
    category_id           Int?
    itemUoms              item_uom[]
    itemBarcodes          item_barcode[]
    itemBrand             item_brand?    @relation(fields: [brand_id], references: [item_brand_id])
    brand_id              Int?

    @@map("item")
}

///ตารางเก็บข้อมูลหน่วยนับ
model uom {
    uom_id       Int            @id @default(autoincrement())
    uom_code     String         @db.VarChar(20)
    uom_name     String         @db.VarChar(100)
    is_active    Boolean?
    prLines      pr_line[]
    itemUoms1    item_uom[]     @relation("ItemUomFrom")
    itemUoms2    item_uom[]     @relation("ItemUomTo")
    itemUoms3    item_uom[]     @relation("ItemUom")
    itemBarcodes item_barcode[]
    rfqLines     rfq_line[]

    @@map("uom")
}

model item_uom {
    item_uom_id     String   @id @default(uuid())
    item_id         Int
    from_uom_id     Int
    to_uom_id       Int
    factor          Decimal  @db.Decimal(18, 6)
    is_purchase_uom Boolean  @default(false)
    created_at      DateTime @default(now())
    updated_at      DateTime @updatedAt

    item item @relation(fields: [item_id], references: [item_id])

    fromUom uom  @relation("ItemUomFrom", fields: [from_uom_id], references: [uom_id])
    toUom   uom  @relation("ItemUomTo", fields: [to_uom_id], references: [uom_id])
    uom     uom? @relation("ItemUom", fields: [uom_id], references: [uom_id])
    uom_id  Int?

    @@unique([item_id, from_uom_id, to_uom_id])
    @@map("item_uom")
}

///ตารางเก็บข้อมูลประเภทสินค้า
model item_type {
    ///รหัสประเภทสินค้า
    item_type_id      Int        @id @default(autoincrement())
    ///รหัสประเภทสินค้า
    item_type_code    String     @unique @db.VarChar(30)
    ///ชื่อประเภทสินค้า
    item_type_name    String     @db.VarChar(200)
    ///ชื่อประเภทสินค้า (อังกฤษ)
    item_type_nameeng String     @db.VarChar(200)
    created_at        DateTime   @default(now())
    updated_at        DateTime   @updatedAt
    items             item[]
    prLines           pr_line[]
    rfqLines          rfq_line[]

    @@map("item_type")
}

///ตารางเก็บข้อมูลบาร์โค้ดสินค้า
model item_barcode {
    ///รหัสบาร์โค้ด
    item_barcode_id   Int      @id @default(autoincrement())
    ///รหัสบาร์โค้ด
    item_barcode_code String   @db.VarChar(30)
    ///รหัสสินค้า
    item_id           Int
    ///รหัสหน่วยนับ
    uom_id            Int
    ///บาร์โค้ดหลักหรือไม่
    is_primary        Boolean
    ///รหัสสินค้า
    item              item     @relation(fields: [item_id], references: [item_id])
    ///รหัสหน่วยนับ
    uom               uom      @relation(fields: [uom_id], references: [uom_id])
    ///วันที่สร้างบาร์โค้ด
    created_at        DateTime @default(now())
    ///วันที่แก้ไขบาร์โค้ด
    updated_at        DateTime @updatedAt

    @@map("item_barcode")
}

///ตารางเก็บข้อมูลหมวดหมู่สินค้า
model item_category {
    ///รหัสหมวดหมู่สินค้า
    item_category_id      Int        @id @default(autoincrement())
    ///รหัสหมวดหมู่สินค้า
    item_category_code    String     @db.VarChar(30)
    ///ชื่อหมวดหมู่สินค้า
    item_category_name    String     @db.VarChar(200)
    ///ชื่อหมวดหมู่สินค้า (อังกฤษ)
    item_category_nameeng String     @db.VarChar(200)
    ///สถานะการใช้งาน
    is_active             Boolean
    ///วันที่สร้าง
    created_at            DateTime   @default(now())
    ///วันที่แก้ไขล่าสุด
    updated_at            DateTime   @updatedAt
    items                 item[]
    prLines               pr_line[]
    rfqLines              rfq_line[]

    @@map("item_category")
}

///ตารางเก็บข้อมูลยี่ห้อสินค้า
model item_brand {
    ///รหัสยี่ห้อสินค้า
    item_brand_id      Int      @id @default(autoincrement())
    ///รหัสยี่ห้อสินค้า
    item_brand_code    String   @db.VarChar(30)
    ///ชื่อยี่ห้อสินค้า
    item_brand_name    String   @db.VarChar(200)
    ///ชื่อยี่ห้อสินค้า (อังกฤษ)
    item_brand_nameeng String   @db.VarChar(200)
    ///สถานะการใช้งาน
    is_active          Boolean
    ///วันที่สร้าง
    created_at         DateTime @default(now())
    ///วันที่แก้ไขล่าสุด
    updated_at         DateTime @updatedAt
    items              item[]

    @@map("item_brand")
}
